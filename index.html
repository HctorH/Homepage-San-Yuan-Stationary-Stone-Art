<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>三元轩 | 国画石アート</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Noto+Serif+JP:wght@300;400;500&family=Noto+Serif+SC:wght@300;400;500&display=swap" rel="stylesheet">
<style>
:root{--ink:#0C0B09;--dark:#161410;--panel:#1E1B16;--gold:#C8A55A;--gold2:#E8C97A;--goldDim:#9A7840;--cream:#F0E8D8;--mist:#8A8070;--fog:#5A5448;--white:#F8F3EB;--ease:cubic-bezier(.16,1,.3,1)}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{background:var(--ink);color:var(--cream);font-family:'Noto Serif JP','Noto Serif SC',Georgia,serif;font-weight:300;overflow-x:hidden;min-height:100vh}
#nav{position:fixed;top:0;left:0;right:0;z-index:500;display:flex;align-items:center;justify-content:space-between;padding:0 40px;height:60px;background:linear-gradient(180deg,rgba(12,11,9,.98),rgba(12,11,9,0));backdrop-filter:blur(10px);transition:background .3s}
#nav.scrolled{background:rgba(12,11,9,.96)}
.nav-logo{display:flex;flex-direction:column;line-height:1;cursor:pointer}
.nav-logo-cn{font-family:'Noto Serif SC',serif;font-size:17px;letter-spacing:.2em;color:var(--white)}
.nav-logo-en{font-family:'Cormorant Garamond',serif;font-size:10px;letter-spacing:.4em;color:var(--gold);margin-top:3px;text-transform:uppercase}
.nav-right{display:flex;align-items:center;gap:16px}
.nav-lang{display:flex;gap:2px;background:rgba(255,255,255,.04);border:1px solid rgba(200,165,90,.15);padding:3px}
.lang-btn{background:none;border:none;cursor:pointer;padding:5px 9px;font-size:11px;letter-spacing:.06em;color:var(--mist);font-family:inherit;transition:all .2s}
.lang-btn.active{background:var(--gold);color:var(--ink);font-weight:500}
.lang-btn:hover:not(.active){color:var(--cream)}
.nav-back{display:none;align-items:center;gap:8px;cursor:pointer;color:var(--mist);font-size:11px;letter-spacing:.15em;border:none;background:none;transition:color .2s;font-family:inherit}
.nav-back:hover{color:var(--gold)}
.page{display:none;min-height:100vh}
.page.active{display:block}
.hero{position:relative;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;overflow:hidden}
.hero-bg{position:absolute;inset:0;background:radial-gradient(ellipse 90% 70% at 50% 45%,#241F15,var(--ink) 65%)}
.hero-grid{position:absolute;inset:0;background-image:linear-gradient(rgba(200,165,90,.035) 1px,transparent 1px),linear-gradient(90deg,rgba(200,165,90,.035) 1px,transparent 1px);background-size:72px 72px;mask-image:radial-gradient(ellipse 65% 65% at 50% 50%,black 10%,transparent 75%)}
.hero-deco{position:absolute;inset:0;overflow:hidden;pointer-events:none}
.hero-c{position:absolute;border-radius:50%;border:1px solid rgba(200,165,90,.08)}
.hero-c:nth-child(1){width:500px;height:500px;top:50%;left:50%;transform:translate(-50%,-50%)}
.hero-c:nth-child(2){width:780px;height:780px;top:50%;left:50%;transform:translate(-50%,-50%);animation:spin 60s linear infinite}
.hero-c:nth-child(3){width:1060px;height:1060px;top:50%;left:50%;transform:translate(-50%,-50%);animation:spin 90s linear infinite reverse}
.hero-content{position:relative;z-index:1;text-align:center;padding:0 24px}
.eyebrow{font-family:'Cormorant Garamond',serif;font-size:11px;letter-spacing:.5em;color:var(--gold);text-transform:uppercase;margin-bottom:24px;opacity:0;animation:up .7s .1s var(--ease) forwards}
.htitle{font-family:'Noto Serif SC','Noto Serif JP',serif;font-size:clamp(50px,9vw,100px);font-weight:300;letter-spacing:.3em;line-height:1;background:linear-gradient(140deg,var(--gold2),var(--gold) 45%,var(--goldDim));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:12px;opacity:0;animation:up .8s .25s var(--ease) forwards}
.hsub{font-family:'Cormorant Garamond',serif;font-size:clamp(13px,2vw,18px);font-style:italic;letter-spacing:.15em;color:var(--mist);margin-bottom:28px;opacity:0;animation:up .7s .38s var(--ease) forwards}
.hrule{display:flex;align-items:center;gap:14px;justify-content:center;margin-bottom:28px;opacity:0;animation:fi .6s .52s ease forwards}
.rl{flex:1;max-width:70px;height:1px;background:linear-gradient(90deg,transparent,var(--gold))}
.rl.r{background:linear-gradient(90deg,var(--gold),transparent)}
.rd{width:5px;height:5px;background:var(--gold);transform:rotate(45deg)}
.hdesc{font-size:11px;letter-spacing:.2em;line-height:2.4;color:var(--mist);margin-bottom:40px;opacity:0;animation:up .7s .6s var(--ease) forwards}
.hcta{display:inline-flex;align-items:center;gap:12px;padding:12px 36px;border:1px solid rgba(200,165,90,.45);color:var(--gold);letter-spacing:.25em;font-size:11px;cursor:pointer;background:none;font-family:inherit;transition:all .35s;opacity:0;animation:up .7s .72s var(--ease) forwards}
.hcta:hover{background:rgba(200,165,90,.1);gap:18px}
.hcta svg{transition:transform .3s}
.hcta:hover svg{transform:translateX(4px)}
.si{position:absolute;bottom:28px;left:50%;transform:translateX(-50%);display:flex;flex-direction:column;align-items:center;gap:8px;opacity:0;animation:fi 1s 1s ease forwards}
.sbar{width:1px;height:36px;background:linear-gradient(180deg,transparent,var(--gold));animation:pulse 2.5s ease-in-out infinite}
.stxt{font-size:9px;letter-spacing:.4em;color:var(--fog)}
.fbar{position:sticky;top:60px;z-index:100;background:rgba(12,11,9,.94);backdrop-filter:blur(14px);border-bottom:1px solid rgba(200,165,90,.1)}
.finner{max-width:1240px;margin:0 auto;padding:0 40px;display:flex;align-items:center;justify-content:space-between;gap:16px}
.ftabs{display:flex;overflow-x:auto;scrollbar-width:none}
.ftabs::-webkit-scrollbar{display:none}
.ftab{background:none;border:none;cursor:pointer;padding:16px 20px;position:relative;font-family:inherit;font-size:12px;font-weight:300;letter-spacing:.15em;color:var(--mist);white-space:nowrap;transition:color .25s}
.ftab::after{content:'';position:absolute;bottom:0;left:20px;right:20px;height:2px;background:var(--gold);transform:scaleX(0);transform-origin:left;transition:transform .3s var(--ease)}
.ftab.on{color:var(--gold)}
.ftab.on::after{transform:scaleX(1)}
.ftab:hover:not(.on){color:var(--cream)}
.ftab sup{font-size:8px;color:var(--fog);margin-left:3px}
.flbl{font-size:10px;letter-spacing:.12em;color:var(--fog);white-space:nowrap}
.gsect{max-width:1240px;margin:0 auto;padding:48px 40px 100px}
.pgrid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:3px}
.pcard{position:relative;overflow:hidden;background:var(--panel);cursor:pointer;transition:transform .45s var(--ease),box-shadow .45s var(--ease);opacity:0;transform:translateY(16px)}
.pcard.vis{animation:up .5s var(--ease) forwards}
.pcard:hover{transform:translateY(-5px);box-shadow:0 18px 50px rgba(0,0,0,.5),0 0 0 1px rgba(200,165,90,.15)}
.pcard.gone{display:none}
.piw{position:relative;overflow:hidden;aspect-ratio:4/3;display:flex;align-items:center;justify-content:center}
.povl{position:absolute;inset:0;background:linear-gradient(180deg,transparent 45%,rgba(12,11,9,.75));pointer-events:none}
.pcat{position:absolute;top:12px;left:12px;font-size:9px;letter-spacing:.26em;color:var(--gold);padding:4px 9px;border:1px solid rgba(200,165,90,.35);background:rgba(12,11,9,.65);backdrop-filter:blur(6px)}
.pno{position:absolute;top:12px;right:12px;font-family:'Cormorant Garamond',serif;font-size:10px;color:var(--fog)}
.pbdy{padding:18px 20px 16px;border-top:1px solid rgba(200,165,90,.09)}
.pnm{font-size:15px;font-weight:400;letter-spacing:.09em;color:var(--white);margin-bottom:4px;line-height:1.3}
.psb{font-size:11px;color:var(--mist);min-height:17px;margin-bottom:11px;letter-spacing:.07em}
.pft{display:flex;align-items:center;justify-content:space-between;border-top:1px solid rgba(200,165,90,.07);padding-top:11px}
.ppr{font-family:'Cormorant Garamond',serif;font-size:19px;color:var(--gold)}
.ptx{font-size:9px;color:var(--fog);display:block;margin-top:1px}
.par{width:30px;height:30px;border:1px solid rgba(200,165,90,.2);display:flex;align-items:center;justify-content:center;color:var(--mist);transition:all .25s}
.pcard:hover .par{border-color:var(--gold);color:var(--gold);background:rgba(200,165,90,.08)}
.dpage{padding-top:60px}
.dhero{display:grid;grid-template-columns:1fr 1fr;min-height:calc(100vh - 60px)}
.dimgp{background:#0A0907;display:flex;align-items:center;justify-content:center;padding:56px;position:relative;overflow:hidden}
.dimgp::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse 70% 70% at 50% 50%,#1E1A12,#0A0907 70%)}
.dno{position:absolute;bottom:20px;right:20px;font-family:'Cormorant Garamond',serif;font-size:55px;font-weight:300;color:rgba(200,165,90,.06);line-height:1;user-select:none}
.dinfo{padding:72px 56px;display:flex;flex-direction:column;justify-content:center;background:var(--dark);overflow-y:auto}
.dct{font-size:10px;letter-spacing:.4em;color:var(--gold);text-transform:uppercase;margin-bottom:16px}
.dnm{font-size:clamp(24px,3.2vw,40px);font-weight:300;letter-spacing:.12em;color:var(--white);line-height:1.25;margin-bottom:10px}
.dsb{font-family:'Cormorant Garamond',serif;font-size:15px;font-style:italic;color:var(--mist);margin-bottom:26px;letter-spacing:.1em}
.drl{width:44px;height:1px;background:var(--gold);margin-bottom:26px}
.dsl{font-size:9px;letter-spacing:.3em;color:var(--fog);text-transform:uppercase;margin-bottom:8px}
.dsv{font-size:14px;color:var(--cream);letter-spacing:.05em;line-height:2;margin-bottom:26px}
.dpb{padding-top:22px;border-top:1px solid rgba(200,165,90,.12)}
.dpr{font-family:'Cormorant Garamond',serif;font-size:40px;font-weight:300;color:var(--gold);letter-spacing:.04em;line-height:1}
.dpn{font-size:10px;color:var(--fog);letter-spacing:.12em;margin-top:5px}
.dpat{display:inline-flex;align-items:center;gap:8px;margin-top:20px;padding:7px 14px;border:1px solid rgba(200,165,90,.2);font-size:10px;letter-spacing:.16em;color:var(--mist)}
.dpat svg{color:var(--gold)}
.drw{padding:48px 40px;max-width:1240px;margin:0 auto}
.drt{font-size:11px;letter-spacing:.3em;color:var(--fog);margin-bottom:24px;text-transform:uppercase}
.drgrid{display:grid;grid-template-columns:repeat(auto-fill,minmax(210px,1fr));gap:3px}
.footer{border-top:1px solid rgba(200,165,90,.1);padding:56px 40px 36px;text-align:center;background:var(--dark);position:relative;overflow:hidden}
.footer::before{content:'三元轩';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-family:'Noto Serif SC',serif;font-size:130px;font-weight:300;color:rgba(200,165,90,.025);white-space:nowrap;pointer-events:none;user-select:none}
.flogo{font-family:'Noto Serif SC',serif;font-size:20px;letter-spacing:.4em;color:var(--gold);margin-bottom:8px;position:relative}
.ftag{font-family:'Cormorant Garamond',serif;font-size:13px;font-style:italic;color:var(--mist);margin-bottom:24px;position:relative;letter-spacing:.1em}
.fline{width:32px;height:1px;background:var(--gold);margin:0 auto 24px;position:relative}
.fnote{font-size:10px;line-height:2.4;color:var(--fog);letter-spacing:.09em;position:relative}
@keyframes up{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
@keyframes fi{from{opacity:0}to{opacity:1}}
@keyframes spin{to{transform:translate(-50%,-50%) rotate(360deg)}}
@keyframes pulse{0%,100%{opacity:.25;transform:scaleY(.7)}50%{opacity:1;transform:scaleY(1)}}
@media(max-width:860px){#nav{padding:0 16px}.finner{padding:0 16px}.gsect{padding:32px 12px 70px}.dhero{grid-template-columns:1fr}.dinfo{padding:36px 20px 48px}.dimgp{min-height:260px;padding:32px}.drw{padding:32px 16px}}
@media(max-width:560px){.htitle{letter-spacing:.1em}.ftab{padding:12px 10px;font-size:10px}}
</style>
</head>
<body>
<nav id="nav">
  <div class="nav-logo" onclick="go('home')">
    <span class="nav-logo-cn">三元轩</span>
    <span class="nav-logo-en">Sanyuan Xuan</span>
  </div>
  <div class="nav-right">
    <button class="nav-back" id="nbk" onclick="go('home')">
      <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M19 12H5M5 12l7-7M5 12l7 7"/></svg>
      <span data-t="back"></span>
    </button>
    <div class="nav-lang" role="group" aria-label="Language">
      <button class="lang-btn" data-lang="ja" onclick="setL('ja')" aria-label="日本語">日本語</button>
      <button class="lang-btn" data-lang="zh" onclick="setL('zh')" aria-label="中文">中文</button>
      <button class="lang-btn" data-lang="en" onclick="setL('en')" aria-label="English">EN</button>
      <button class="lang-btn" data-lang="de" onclick="setL('de')" aria-label="Deutsch">DE</button>
    </div>
  </div>
</nav>

<div class="page active" id="ph">
  <section class="hero">
    <div class="hero-bg"></div><div class="hero-grid"></div>
    <div class="hero-deco"><div class="hero-c"></div><div class="hero-c"></div><div class="hero-c"></div></div>
    <div class="hero-content">
      <p class="eyebrow" data-t="ey"></p>
      <h1 class="htitle" data-t="ti"></h1>
      <p class="hsub" data-t="su"></p>
      <div class="hrule"><div class="rl"></div><div class="rd"></div><div class="rl r"></div></div>
      <p class="hdesc" data-t="de"></p>
      <button class="hcta" onclick="document.getElementById('fs').scrollIntoView({behavior:'smooth'})">
        <span data-t="ct"></span>
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
      </button>
    </div>
    <div class="si"><div class="sbar"></div><span class="stxt" data-t="sc"></span></div>
  </section>

  <div class="fbar" id="fs">
    <div class="finner">
      <div class="ftabs">
        <button class="ftab on" data-f="all" onclick="fil('all',this)"><span data-t="al"></span><sup id="ca"></sup></button>
        <button class="ftab" data-f="tea" onclick="fil('tea',this)"><span data-t="te"></span><sup id="ctc"></sup></button>
        <button class="ftab" data-f="seal" onclick="fil('seal',this)"><span data-t="se"></span><sup id="cs"></sup></button>
        <button class="ftab" data-f="accessory" onclick="fil('accessory',this)"><span data-t="ac"></span><sup id="cc"></sup></button>
      </div>
      <span class="flbl" id="fl"></span>
    </div>
  </div>

  <section class="gsect"><div class="pgrid" id="grid"></div></section>

  <footer class="footer">
    <div class="flogo">三元轩</div>
    <div class="ftag" data-t="tg"></div>
    <div class="fline"></div><div class="fnote" data-t="fn"></div>
  </footer>
</div>

<div class="page" id="pd">
  <div class="dpage">
    <div class="dhero">
      <div class="dimgp">
        <div id="dph" style="font-family:'Noto Serif SC',serif;font-size:80px;letter-spacing:.3em;color:rgba(200,165,90,.15);position:relative;z-index:1"></div>
        <div class="dno" id="dno"></div>
      </div>
      <div class="dinfo">
        <div class="dct" id="dc"></div>
        <div class="dnm" id="dn"></div>
        <div class="dsb" id="ds"></div>
        <div class="drl"></div>
        <div class="dsl" data-t="sp"></div>
        <div class="dsv" id="dv"></div>
        <div class="dpb">
          <div class="dpr" id="dp"></div>
          <div class="dpn" data-t="pn"></div>
        </div>
        <div class="dpat">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
          <span data-t="pa"></span>
        </div>
      </div>
    </div>
    <div class="drw"><div class="drt" data-t="re"></div><div class="drgrid" id="drg"></div></div>
    <footer class="footer">
      <div class="flogo">三元轩</div>
      <div class="ftag" data-t="tg"></div>
      <div class="fline"></div><div class="fnote" data-t="fn"></div>
    </footer>
  </div>
</div>

<script>
const TX={
  ja:{
    ey:'特許製品コレクション · Patent Collection',
    ti:'国画石アート',
    su:'Guohua Stone Art — 天然石の美を、日々の道具へ',
    de:'天然の石紋を活かした一点もの\\n文房・茶器・印章・アクセサリー',
    ct:'コレクションを見る',
    al:'すべて',te:'茶器・生活',se:'印章',ac:'アクセサリー',
    back:'コレクションに戻る',
    sc:'スクロール',
    tg:'Natural Stone · Handcrafted · Patented',
    sp:'仕様 · Specifications',
    pn:'税別目安 / 価格は市場・為替により変動します',
    pa:'国画石アート 特許製品',
    re:'その他の作品',
    fn:'※天然素材のため模様・色味・サイズに個体差があります。実物優先。\\n© 三元轩｜国画石アート 特許製品コレクション',
    it:'点'
  },
  zh:{
    ey:'专利产品系列 · Patent Collection',
    ti:'国画石艺术品',
    su:'Guohua Stone Art — 天然石之美，融入日常',
    de:'取材天然石纹，一石一景\\n文房·茶器·印章·配饰',
    ct:'浏览系列',
    al:'全部',te:'茶器·生活',se:'印章',ac:'配饰',
    back:'返回系列',
    sc:'向下滑动',
    tg:'Natural Stone · Handcrafted · Patented',
    sp:'规格参数',
    pn:'参考价格，因市场及汇率有所调整',
    pa:'国画石艺术品 专利产品',
    re:'其他作品',
    fn:'※天然材料，纹路、色泽、尺寸均存在个体差异，以实物为准。\\n© 三元轩｜国画石艺术品 专利产品系列',
    it:'件'
  },
  en:{
    ey:'Patented Stone Art Collection',
    ti:'Guohua Stone Art',
    su:'Natural stone beauty — crafted for daily life',
    de:'Unique pieces shaped by natural stone patterns\\nStationery · Tea Ware · Seals · Accessories',
    ct:'Explore Collection',
    al:'All',te:'Tea & Living',se:'Seals',ac:'Accessories',
    back:'Back to Collection',
    sc:'SCROLL',
    tg:'Natural Stone · Handcrafted · Patented',
    sp:'Specifications',
    pn:'Reference price excl. tax / Subject to exchange rate',
    pa:'Guohua Stone Art — Patented Product',
    re:'More Pieces',
    fn:'※ Natural material: patterns, color & size vary per piece.\\n© Sanyuan Xuan | Guohua Stone Art Patented Collection',
    it:'items'
  },
  de:{
    ey:'Patentierte Steinkunst-Kollektion',
    ti:'Guohua Steinkunst',
    su:'Natürliche Steinschönheit — für den Alltag',
    de:'Unikate geformt durch natürliche Steinstrukturen\\nSchreibwaren · Teegeschirr · Siegel · Accessoires',
    ct:'Kollektion entdecken',
    al:'Alle',te:'Tee & Leben',se:'Siegel',ac:'Accessoires',
    back:'Zurück zur Kollektion',
    sc:'SCROLL',
    tg:'Natural Stone · Handcrafted · Patented',
    sp:'Spezifikationen',
    pn:'Richtpreis zzgl. MwSt. / Abhängig von Wechselkurs',
    pa:'Guohua Steinkunst — Patentiertes Produkt',
    re:'Weitere Werke',
    fn:'※ Naturmaterial: Muster, Farbe und Größe variieren.\\n© Sanyuan Xuan | Guohua Steinkunst Patentkollektion',
    it:'Artikel'
  },
};
const CL={
  tea:{ja:'茶器・生活',zh:'茶器·生活',en:'Tea & Living',de:'Tee & Leben'},
  seal:{ja:'印章',zh:'印章',en:'Seals',de:'Siegel'},
  accessory:{ja:'アクセサリー',zh:'配饰',en:'Accessories',de:'Accessoires'}
};
const ICONS=['石','玉','印','茶','香','墨','器','韵'];
const P=[
  {id:1,cat:'accessory',nm:{ja:'ペンダント型アロマ容器',zh:'香薰吊坠容器',en:'Aroma Pendant Bottle',de:'Aroma-Anhänger'},sb:{ja:'玉香軽泛',zh:'玉香轻泛',en:'Yu Xiang',de:'Yu Xiang'},sp:{ja:'直径約12mm / 高さ約40mm',zh:'直径约12mm / 高度约40mm',en:'Dia. ~12mm / H ~40mm',de:'Ø ~12mm / H ~40mm'},pr:'¥2,200'},
  {id:2,cat:'accessory',nm:{ja:'平安扣ペンダント',zh:'平安扣国石怀古',en:'Peace Buckle Pendant',de:'Frieden-Anhänger'},sb:{ja:'国石・懐古',zh:'国石怀古',en:'Guoshi Heritage',de:'Guoshi Erbe'},sp:{ja:'直径35〜48mm',zh:'直径35~48mm',en:'Dia. 35–48mm',de:'Ø 35–48mm'},pr:'¥2,200'},
  {id:3,cat:'tea',nm:{ja:'ロマン雰囲気ランプ',zh:'浪漫氛围灯',en:'Romantic Mood Lamp',de:'Romantiklampe'},sb:{ja:'香器',zh:'熏香器',en:'Incense Burner',de:'Räuchergefäß'},sp:{ja:'直径約41mm / 高さ150mm',zh:'直径约41mm / 高度150mm',en:'Dia. ~41mm / H 150mm',de:'Ø ~41mm / H 150mm'},pr:'¥4,200'},
  {id:4,cat:'tea',nm:{ja:'円融 茶葉缶',zh:'圆融茶叶罐',en:'Harmony Tea Canister',de:'Harmonie-Teedose'},sb:{ja:'茶葉缶',zh:'茶叶罐',en:'Tea Canister',de:'Teedose'},sp:{ja:'直径100mm / 高さ140mm / 容量550ml',zh:'直径100mm / 高度140mm / 容量550ml',en:'Dia. 100mm / H 140mm / 550ml',de:'Ø 100mm / H 140mm / 550ml'},pr:'¥12,450'},
  {id:6,cat:'tea',nm:{ja:'規矩 小茶缶',zh:'规矩小茶罐',en:'Square Small Tea Tin',de:'Kleine Teedose'},sb:{ja:'小茶缶',zh:'小茶罐',en:'Small Tea Tin',de:'Kleine Teedose'},sp:{ja:'70×70mm / 高さ95mm / 容量130ml',zh:'70×70mm / 高度95mm / 容量130ml',en:'70×70mm / H 95mm / 130ml',de:'70×70mm / H 95mm / 130ml'},pr:'¥4,750'},
  {id:7,cat:'seal',nm:{ja:'随形印',zh:'随形印',en:'Free-Form Seal',de:'Freiform-Siegel'},sb:{ja:'フリーフォーム',zh:'随形印章',en:'Freeform Stone Seal',de:'Stein-Freiformsiegel'},sp:{ja:'35×15×H（可変）',zh:'35×15×H（可变）',en:'35×15×H (variable)',de:'35×15×H (variabel)'},pr:'¥2,200'},
  {id:8,cat:'seal',nm:{ja:'四方如意',zh:'四方如意',en:'Four Directions Ruyi',de:'Vierrichtungs-Ruyi'},sb:{ja:'小',zh:'小号',en:'Small',de:'Klein'},sp:{ja:'25×25mm',zh:'25×25mm',en:'25×25mm',de:'25×25mm'},pr:'¥2,200'},
  {id:9,cat:'seal',nm:{ja:'励志 小方章',zh:'励志小方章',en:'Aspiration Square Seal',de:'Inspirations-Siegel'},sb:{ja:'',zh:'',en:'',de:''},sp:{ja:'20×20mm',zh:'20×20mm',en:'20×20mm',de:'20×20mm'},pr:'¥1,700'},
  {id:10,cat:'seal',nm:{ja:'潮韵 閑章',zh:'潮韵闲章',en:'Tide Rhythm Leisure Seal',de:'Gezeitensiegel'},sb:{ja:'',zh:'',en:'',de:''},sp:{ja:'30×13×45mm',zh:'30×13×45mm',en:'30×13×45mm',de:'30×13×45mm'},pr:'¥2,200'},
  {id:11,cat:'seal',nm:{ja:'如意 閑章',zh:'如意闲章',en:'Ruyi Leisure Seal',de:'Ruyi Freizeitsiegel'},sb:{ja:'',zh:'',en:'',de:''},sp:{ja:'30×13×42mm',zh:'30×13×42mm',en:'30×13×42mm',de:'30×13×42mm'},pr:'¥2,200'},
  {id:12,cat:'seal',nm:{ja:'如意 私章',zh:'如意私章',en:'Ruyi Personal Seal',de:'Ruyi Persönlichsiegel'},sb:{ja:'',zh:'',en:'',de:''},sp:{ja:'19×19×60mm',zh:'19×19×60mm',en:'19×19×60mm',de:'19×19×60mm'},pr:'¥2,200'},
  {id:13,cat:'seal',nm:{ja:'丸印',zh:'圆印',en:'Round Seals',de:'Rundstempel'},sb:{ja:'',zh:'',en:'',de:''},sp:{ja:'直径15/20/25mm（3サイズ）',zh:'直径15/20/25mm（三种规格）',en:'Dia. 15/20/25mm (3 sizes)',de:'Ø 15/20/25mm (3 Größen)'},pr:'¥1,700'},
  {id:14,cat:'seal',nm:{ja:'称心如意',zh:'称心如意',en:'Satisfying Seal',de:'Vollendetes Siegel'},sb:{ja:'',zh:'',en:'',de:''},sp:{ja:'D50×H70mm',zh:'D50×H70mm',en:'D50×H70mm',de:'D50×H70mm'},pr:'¥5,750'},
  {id:15,cat:'tea',nm:{ja:'茶托・壺敷き',zh:'茶碟（壶承）',en:'Tea Saucer',de:'Teeuntertasse'},sb:{ja:'壺敷き',zh:'壶承',en:'Teapot Coaster',de:'Teekannentablett'},sp:{ja:'直径150mm / 高さ25mm',zh:'直径150mm / 高度25mm',en:'Dia. 150mm / H 25mm',de:'Ø 150mm / H 25mm'},pr:'¥10,750'},
  {id:16,cat:'tea',nm:{ja:'残瓷 壺敷き',zh:'残瓷壶承',en:'Ceramic Shard Coaster',de:'Keramikscherben-Untersetzer'},sb:{ja:'',zh:'',en:'',de:''},sp:{ja:'186×130×25mm',zh:'186×130×25mm',en:'186×130×25mm',de:'186×130×25mm'},pr:'¥7,200'},
  {id:17,cat:'tea',nm:{ja:'爪楊枝入れ',zh:'牙签筒',en:'Toothpick Holder',de:'Zahnstocher-Halter'},sb:{ja:'',zh:'',en:'',de:''},sp:{ja:'30×13×45mm',zh:'30×13×45mm',en:'30×13×45mm',de:'30×13×45mm'},pr:'¥3,800'},
  {id:18,cat:'tea',nm:{ja:'杯敷き',zh:'杯垫（起边）',en:'Cup Mat with Rim',de:'Tassenuntersetzer'},sb:{ja:'立ち上がり',zh:'起边款',en:'With raised edge',de:'Mit Rand'},sp:{ja:'直径100mm / 厚さ10mm',zh:'直径100mm / 厚度10mm',en:'Dia. 100mm / T 10mm',de:'Ø 100mm / D 10mm'},pr:'¥2,200'},
  {id:20,cat:'tea',nm:{ja:'盆月盤',zh:'盆月盘',en:'Moon Tray',de:'Mondtablett'},sb:{ja:'',zh:'',en:'',de:''},sp:{ja:'直径180〜220mm',zh:'直径180~220mm',en:'Dia. 180–220mm',de:'Ø 180–220mm'},pr:'¥8,200'},
  {id:21,cat:'tea',nm:{ja:'自然縁 乾泡台',zh:'自然边干泡台',en:'Natural Edge Tea Board',de:'Naturkante-Teetablett'},sb:{ja:'',zh:'',en:'',de:''},sp:{ja:'24×15×2cm',zh:'24×15×2cm',en:'24×15×2cm',de:'24×15×2cm'},pr:'¥16,200'},
  {id:22,cat:'tea',nm:{ja:'手遊び香器',zh:'手有余香容器',en:'Hand Aroma Vessel',de:'Hand-Aromabehälter'},sb:{ja:'手有余香',zh:'手有余香',en:'Shou You Yu Xiang',de:'Shou You Yu Xiang'},sp:{ja:'直径約30mm / 高さ約60mm',zh:'直径约30mm / 高度约60mm',en:'Dia. ~30mm / H ~60mm',de:'Ø ~30mm / H ~60mm'},pr:'¥3,200'},
];

let L='ja',CUR='all';
const LS_KEY='sx_lang';
const t=k=>TX[L]?.[k]||'';
const cl=c=>CL[c]?.[L]||c;
const grad=(i)=>{const hs=['#2A2018','#1E1C14','#221E16','#1A1814','#261E18','#2C2018','#201814','#241C16'];return `linear-gradient(135deg,${hs[i%8]},#0F0C08 60%,${hs[(i+3)%8]} 100%)`};
const getHashId=()=>{const m=location.hash.match(/^#p(\\d+)$/);return m?+m[1]:null;};

function normalizeLang(x){
  const s=(x||'').toLowerCase();
  if(s.startsWith('zh')) return 'zh';
  if(s.startsWith('ja')) return 'ja';
  if(s.startsWith('de')) return 'de';
  return 'en';
}
function applyLangToHtml(){
  document.documentElement.lang = (L==='zh'?'zh-CN':L);
}
function setL(l){
  L=l;
  try{ localStorage.setItem(LS_KEY,L); }catch(e){}
  document.querySelectorAll('.lang-btn').forEach(b=>b.classList.toggle('active',b.dataset.lang===l));
  applyLangToHtml();
  render();
  buildG();

  const id=getHashId();
  if(id){
    openDetail(id);
    document.getElementById('ph').classList.remove('active');
    document.getElementById('pd').classList.add('active');
    document.getElementById('nbk').style.display='flex';
    document.getElementById('nbk').querySelector('[data-t]').textContent=t('back');
  }
}
function render(){
  document.querySelectorAll('[data-t]').forEach(el=>{
    const key=el.dataset.t;
    const v=t(key);
    if(key==='de'||key==='fn') el.innerHTML=v.replace(/\\n/g,'<br>');
    else el.textContent=v;
  });
  document.querySelectorAll('.ftab [data-t]').forEach(el=>el.textContent=t(el.dataset.t));
  const n=(CUR==='all'?P.length:P.filter(x=>x.cat===CUR).length);
  document.getElementById('fl').textContent = n+' '+t('it');
}
function buildG(){
  const g=document.getElementById('grid'); g.innerHTML='';
  const cnt={all:P.length,tea:0,seal:0,accessory:0}; P.forEach(p=>cnt[p.cat]++);
  document.getElementById('ca').textContent=cnt.all;
  document.getElementById('ctc').textContent=cnt.tea;
  document.getElementById('cs').textContent=cnt.seal;
  document.getElementById('cc').textContent=cnt.accessory;

  P.forEach((p,i)=>{
    const nm=p.nm[L]||p.nm.en;
    const sb=(p.sb && (p.sb[L]||p.sb.en)) || '';
    const c=document.createElement('div');
    c.className='pcard'+(CUR!=='all'&&p.cat!==CUR?' gone':'');
    c.dataset.cat=p.cat;
    c.style.animationDelay=(i%4)*.06+'s';
    c.innerHTML=`<div class="piw" style="background:${grad(i)}">
      <div style="position:relative;z-index:1;font-family:'Noto Serif SC',serif;font-size:40px;letter-spacing:.3em;color:rgba(200,165,90,.2)">${ICONS[i%8]}</div>
      <div class="povl"></div><span class="pcat">${cl(p.cat)}</span><span class="pno">No.${p.id}</span>
    </div>
    <div class="pbdy">
      <div class="pnm">${nm}</div><div class="psb">${sb?('（'+sb+'）'):'&nbsp;'}</div>
      <div class="pft"><div><div class="ppr">${p.pr}</div><span class="ptx">${t('pn').split('/')[0].trim()}</span></div>
      <div class="par"><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M5 12h14M12 5l7 7-7 7"/></svg></div></div>
    </div>`;
    c.addEventListener('click',()=>go('detail',p.id));
    g.appendChild(c);
  });

  const obs=new IntersectionObserver(es=>{
    es.forEach(e=>{
      if(e.isIntersecting){e.target.classList.add('vis');obs.unobserve(e.target);}
    });
  },{threshold:.08});
  document.querySelectorAll('.pcard').forEach(c=>obs.observe(c));
}
function fil(cat,btn){
  CUR=cat;
  document.querySelectorAll('.ftab').forEach(b=>b.classList.remove('on'));
  btn.classList.add('on');
  document.querySelectorAll('.pcard').forEach(c=>c.classList.toggle('gone',cat!=='all'&&c.dataset.cat!==cat));
  const n=(cat==='all'?P.length:P.filter(x=>x.cat===cat).length);
  document.getElementById('fl').textContent=n+' '+t('it');
}
function openDetail(id){
  const p=P.find(x=>x.id===id); if(!p) return;
  const nm=p.nm[L]||p.nm.en;
  const sb=(p.sb && (p.sb[L]||p.sb.en)) || '';
  const sp=(p.sp && (p.sp[L]||p.sp.en)) || '';
  const pi=P.indexOf(p);

  document.getElementById('dph').textContent=ICONS[pi%8];
  document.getElementById('dno').textContent=p.id;
  document.getElementById('dc').textContent=cl(p.cat)+' · No.'+p.id;
  document.getElementById('dn').textContent=nm;
  document.getElementById('ds').textContent=sb?('（'+sb+'）'):'';
  document.getElementById('dv').textContent=sp;
  document.getElementById('dp').textContent=p.pr;

  document.querySelectorAll('#pd [data-t]').forEach(el=>{
    const key=el.dataset.t;
    const v=t(key);
    if(key==='de'||key==='fn') el.innerHTML=v.replace(/\\n/g,'<br>');
    else el.textContent=v;
  });

  const rel=P.filter(x=>x.cat===p.cat&&x.id!==id).slice(0,4);
  const rg=document.getElementById('drg'); rg.innerHTML='';
  rel.forEach((r)=>{
    const rn=r.nm[L]||r.nm.en;
    const rsb=(r.sb && (r.sb[L]||r.sb.en)) || '';
    const rpi=P.indexOf(r);
    const d=document.createElement('div');
    d.className='pcard';
    d.dataset.cat=r.cat;
    d.innerHTML=`<div class="piw" style="background:${grad(rpi)}">
      <div style="position:relative;z-index:1;font-family:'Noto Serif SC',serif;font-size:36px;letter-spacing:.3em;color:rgba(200,165,90,.2)">${ICONS[rpi%8]}</div>
      <div class="povl"></div><span class="pcat">${cl(r.cat)}</span><span class="pno">No.${r.id}</span>
    </div>
    <div class="pbdy"><div class="pnm">${rn}</div><div class="psb">${rsb?('（'+rsb+'）'):'&nbsp;'}</div>
    <div class="pft"><div class="ppr">${r.pr}</div><div class="par"><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M5 12h14M12 5l7 7-7 7"/></svg></div></div></div>`;
    d.addEventListener('click',()=>go('detail',r.id));
    rg.appendChild(d);
  });
  setTimeout(()=>rg.querySelectorAll('.pcard').forEach((c,i)=>setTimeout(()=>c.classList.add('vis'),i*60)),80);
}
function go(dest,id){
  if(dest==='home'){
    document.getElementById('ph').classList.add('active');
    document.getElementById('pd').classList.remove('active');
    document.getElementById('nbk').style.display='none';
    window.location.hash='';
    window.scrollTo({top:0});
  }else{
    document.getElementById('ph').classList.remove('active');
    document.getElementById('pd').classList.add('active');
    document.getElementById('nbk').style.display='flex';
    document.getElementById('nbk').querySelector('[data-t]').textContent=t('back');
    window.location.hash='p'+id;
    window.scrollTo({top:0});
    openDetail(id);
  }
}
window.addEventListener('scroll',()=>document.getElementById('nav').classList.toggle('scrolled',scrollY>60),{passive:true});
function handleHash(){
  const id=getHashId();
  if(id) go('detail',id);
  else go('home');
}
window.addEventListener('hashchange',handleHash);

(function init(){
  let saved=null;
  try{ saved=localStorage.getItem(LS_KEY); }catch(e){}
  const initial = saved || normalizeLang(navigator.language || '');
  L = TX[initial] ? initial : 'ja';
  applyLangToHtml();
  document.querySelectorAll('.lang-btn').forEach(b=>b.classList.toggle('active',b.dataset.lang===L));
  render();
  buildG();
  handleHash();
})();
</script>
</body>
</html>
